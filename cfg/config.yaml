defaults:
  - _self_

# Running hyperparameters
exp_name: 'tests'
seed: -1
device: 0
num_workers: 0       # Dataloader workers
debug: False
debug_loops: False

# Model hyperparameters
model:
  robot: "pendulum"
  dynamic_regime: unactuated
  equivariance: False
  window_size: 2       # Prediction horizon of the model per training sample
  obs_dim: 4
  # Learning hyperparameters parameters
  lr: 1e-3
  augment: False       # Weather to use data-augmentation of the dataset if the system has symmetries.
  loss_pred_w: 0.01    # Cost function weight for prediction in observation space Z
  batch_size: 256
  max_epochs: 900

# Hydra configuration _________
hydra:
  launcher:
    n_jobs: 1
    backend: multiprocessing
    
  run:
    dir: ./experiments/${hydra.job.name}/${hydra.job.override_dirname}
  job:
    # TODO: Reorganize output dir
    name: ${exp_name}_${model.robot}
    num: ${seed}
    env_set:
      XLA_PYTHON_CLIENT_PREALLOCATE: 'false'
      HYDRA_FULL_ERROR: '1'
    config:
      override_dirname:
        kv_sep: "="
        item_sep: " "
        exclude_keys:
          - batch_size
          - model
          - device
          - exp_name
          - max_epochs
          - debug
          - debug_loops
          - seed

  sweep:
    dir: ./experiments/${hydra.job.name}/
    subdir: ${hydra.job.override_dirname}

  job_logging:
    version: 1
    colorlog: True
    formatters:
      simple:
        format: '[%(levelname)s][%(name)s] %(message)s'
    handlers:
      console:
        class: logging.StreamHandler
        formatter: simple
        stream: ext://sys.stdout
      file:
        class: logging.handlers.RotatingFileHandler
        formatter: simple
        filename: log.log
        maxBytes: 2048
        backupCount: 1
    root:
      handlers: [console]

    disable_existing_loggers: false